{# Header Navbar #}

<header>

  <nav class="navbar navbar-light  navbar-expand-md fixed-top bg-white pb-0" style="border-bottom: 2px solid orange;">

    <div class="container-fluid ps-4 ps-md-5">

      {# Website Logo #}

      <a class="navbar-brand" href="/">

        <img src="/media/static/images/flycore_logo.svg" alt="flycore logo - a green plane" loading="lazy" width="50px" height="50px"/>

      </a>

      
      {# Static Menu #}

      <ul class="navbar-nav fs-5 ps-4">

        <li class="nav-item me-3 d-none d-md-inline">

          <a class="nav-link text-body" aria-current="page" href="{{ path('index_technics') }}">Solutions</a>

        </li>

      {#   <li class="nav-item d-none d-md-inline">

          <a class="nav-link text-body" aria-current="page" href="{{ path('index_projects') }}">Projets</a>

        </li> #}

      </ul>


        {% set userAccountMenu %}

           {% if app.user %}

           <div class="">

            <a class="dropdown-item" href="{{path("show_user_profile", {'userNameSlug': app.user.userNameSlug})}}">
              <div class="container d-flex align-items-center justify-content-center text-center my-3">
              {{app.user.userName}}
              </div>

            </a>
  
        {#     <li>
  
              <a class="dropdown-item" href="{{path ('create_presentation')}}">Ajouter un Projet</a>
  
            </li> #}
  
            <li>
  
              <a class="dropdown-item" href="{{path ('new_technic')}}">Ajouter une Solution</a>
  
            </li>
  
            <li>
  
              <a class="dropdown-item" href="{{path("show_user_profile", {'userNameSlug': app.user.userNameSlug})}}">
                Mes éléments présentés
              </a>
  
            </li>
  
            {# Dropdown Divider #}
  
            <li><hr class="dropdown-divider"></li>
  
            <li>
  
              <a class="dropdown-item" href="{{path("show_user_profile", {'userNameSlug': app.user.userNameSlug})}}">
                Mon Compte
              </a>
  
            </li>
  
            {# Dropdown Divider #}
  
            <li><hr class="dropdown-divider"></li>
  
            {# logout button #}
  
            <li>
  
              <a class="dropdown-item" href="{{path('app_logout')}}">
  
                Déconnexion
  
              </a>
  
            </li>

           </div>
        
          {% endif %}

        {% endset %}
      
      
      {# This button and bellow collapsible is only seen on mobile #}
      {# hide / show menu  - trigger button #}

      <button class="btn text-body navbar-toggler" data-bs-target="#navbarSMToggle" aria-controls="navbarSMToggle" type="button" data-bs-toggle="collapse" aria-expanded="false" aria-label="Toggle navigation" style="margin-bottom:9px;">

        <span class="navbar-toggler-icon"></span>

      </button>


      {# These elements are displyed only on small screens and are collapsed at first #}
      
      <div id="navbarSMToggle" class="collapse navbar-collapse" style="margin-bottom: 7px;">

        <div class="tiny-screen-menu d-md-none">

          {{ userAccountMenu }}

          <style>

            .tiny-screen-menu{

              list-style: none;

            }
          
          </style>

        </div>

        <ul class="navbar-nav ms-md-auto gap-2">

          {% if is_granted("ROLE_ADMIN") %}
          
          <li class="nav-item d-none d-md-inline">

            <a href="{{path ('admin')}}">

              <img class="pe-2 py-1 mt-1 rounded" src="{{ asset('key.svg', 'misc')}}" alt="key icon" style="height:32px;">

            </a>

          </li>
        
        {% endif %}

          {% if not app.user %}

            {# login access button (>= md screens) #}

            <a href="{{path('app_login')}}">

              <button type="button" class="d-none d-md-block btn btn-outline-primary fw-bold me-2">Connexion</button>

            </a>


            {# login access button (for sm screens) #}

            <div class="d-md-none">

              <h4 class="fw-bold">Connexion</h4>
                
              <a href="{{ path('connect_google_start') }}">

                <button class="btn me-3">

                    <img src="{{asset ('connect/google.svg', 'misc')}}" class="" alt="Google Logo" loading="lazy" width="50" height="50">

                    <span class="">Avec Google</span>

                </button>

              </a>

              <a href="{{ path('connect_facebook_start') }}">

                  <button class="btn">

                      <img src="{{asset ('connect/facebook.svg', 'misc')}}" class="" alt="Facebook Logo" loading="lazy" width="50" height="50">

                      <span class="">Avec Facebook</span>

                  </button>

              </a>
              
              <a href="{{path('app_login')}}">

                <button class="btn">

                  <img src="{{asset ('connect/email.svg', 'misc')}}" class="" alt="Facebook Logo" loading="lazy" width="50" height="50">

                  <span class="">Avec E-mail</span>

              </button>

              </a>

            </div>

          {% endif %}

          {# This dropdown is only seen on medium to large screens #}
          {# User Account Dropdown #}

          {% if app.user %}

            {# Trigger Button #}

            <li class="d-none d-md-block nav-item dropdown rounded">

              <button id="userAccountDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" class="btn btn-outline-success dropdown-toggle fw-bold" style="padding: 6px 9px; margin-right: 10px;">Compte</button>


              {# User Account Dropdown Content #}

              <ul aria-labelledby="userAccountDropdown" class="dropdown-menu dropdown-menu-end fw-bold" style="width: 260px;">

                {{ userAccountMenu }}

              </ul>

            </li>

          {% endif %}

        </ul>

        {# End of Toggled elements on small screens #}

      </div>

    </div>


  </nav>

</header>